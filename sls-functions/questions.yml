questions:
  handler: src.functions.questions.questions_handler.handle
  memorySize: 256
  timeout: 30

  environment:
    QUESTIONS_TABLE: ${self:custom.questionsTable}
  events:
    - http:
        path: questions
        method: get
    - http:
        path: questions/{question_id}
        method: get
    - http:
        path: questions
        method: post
  iamRoleStatements:
    - Effect: Allow
      Action:
        - cloudwatch:*
      Resource:
        - "*"
    - Effect: Allow
      Action:
        - lambda:InvokeFunction
      Resource:
        - "*"
    - Effect: Allow
      Action:
        - dynamodb:*
      Resource: '*'
  layers:
        - {Ref: PythonRequirementsLambdaLayer}